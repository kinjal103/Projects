lseek linux programmers manual lseek n lseek r r file of synopsis in systypesh in unistdh of lseek fd of of in when description lseek function r of of open file as with file descriptor fd to argument of according to directive when as follow see of is set to of by see of is set to it cur loca plus of by see of is set to size of file plus of by lseek function allo file of to be set be end of file but this does n change size of file if data is later written at this point subsequent r of data in gap hole r n by 0 until data is actually written in gap see file data and hole since version 31 linux support follow additional value for when see adjust file of to n loca in file greater than or to of containing data if of point to data then file of is set to of see adjust file of to n hole in file r than or equal to of if of point in middle of hole then file of is set to of if there is n hole past of then file of is adjust to end of file ie there is implicit hole at end of any file in both of above cases lseek fails if of point past end of file these opera allo applications to map hole in sparsely allo cated file this can be useful for applications such as file backup to which can save space when creating backup and preserve hole if they have mechanism for discovering hole for purposes of these opera hole is sequence of zeros that n has n be allo in underlying file storage however file system is n obliged to r hole so these opera tion are n guaranteed mechanism for map storage ce actually allo to file furthermore sequence of zeros that actually has be written to underlying storage may n be r as hole in simplest implementation file system can support opera by making see always r of of end of file and making see always r of ie even if loca r to by of is hole it can be considered to consist of data that is sequence of zeros r value upon successful completion lseek r r of loca tion as measured in by from be of file on error value of 1 is r and errno is set to in error error ebadf fd is n open file descriptor einval when is n valid or r file of would be n or be end of see device eoverflow r file of can be r in of espipe fd is as with pipe so or fifo enxio when is see or see and n file of is be end of file conforming to svr4 43bsd posix see and see are n extensions also present in so freebsd and dragonfly bsd they are proposed for in in n posix r is 8 n so device are in of see and posix does n specify which device must support lseek on linux using lseek n tty device r espipe when converting old code substitute value for when with follow in macros old n 0 see 1 see 2 see lset see lincr see lxtnd see n that file descriptor created by dup2 or for share cur r file position point so see on such file may be subject to r conditions see also dup2 for open fseek3 lseek posix colophon this page is part of r 335 of linux manpages project description of project and in about r bugs can be found at 